# 第 1 回

## 課題1

-自身の顔画像をPhoto Boothアプリで撮影して、
プログラムで表示せよ

- プロジェクトを一から作成し，画像表示した結果をキャプチャして
プログラムと結果を提出してください
-inputImgFileをコピーして，#defineのファイル名の変更
-画面キャプチャには、スクリーンショット/QuickTime Playerなどがあります
- Launchpadで探してください
-提出ファイル名 (プロジェクトではなく、ファイル)
- 01_01_face_x24000.png (実行結果のキャプチャ)
- 01_01_face_x24000.cpp (プログラムのファイル)
➡自分の学籍番号に変更すること
➡拡張子はjpgでも可

# 第 2 回

## 課題 2

-aquarium.jpgを入力して，RGB成分を以下の
ルールで入れ替えよ．

- R→B，B→G，G→R
-提出ファイル
- 02_02_colors_学籍番号.cpp (ソース)
- 02_02_colors_学籍番号.jpg (キャプチャ画像，画像
形式はなんでもいいです．)
-ヒント
- 新しい変数 cv::Vec3b output_valを用いる。

# 第 3 回

## 課題 1

課題1\
-sakura.jpgをカラー画像として読み込み、\
一回の画像走査（二重ループ）でグレースケール\
変換＆ネガポジ変換を実施するプログラムを作成せよ\
-画像(sakura.jpg)はTeamsからDL\
-提出ファイル（画像のファイル形式は問わない）\

- 03_01_negaposi_学籍番号.cpp\
（ソースコード）\
- 03_01_negaposi_学籍番号.jpg\
（ネガポジ変換画像を出力した画面キャプチャ）

## 課題 2

課題２（提出自由・加点対象）
•階調数を指定すると，その階調数に対応したLUTを作成し、
そのLUTでポスタリゼーションを行うプログラムを作成せよ

- 4階調であればプロジェクトposterizationと同じ結果
- 階調数の指定は，プログラム内のマクロ定数で定義しても
scanf等によるユーザ入力で求めてもよい
•提出ファイル（画像のファイル形式は問わない）
- 03_02_LUT_学籍番号.cpp（ソースコード）
- 03_02_LUT_学籍番号.jpg
- 入力・出力画像が表示された画面キャプチャ
- 入力画像はどのような画像でもよい
- キャプチャ内で指定した階調数がわかるようにする

# 第 4 回

## 課題 1

課題１ ヒストグラムを用いた閾値設定による物体と背景の切り分け◆  image1.jpg  （部品の画像）をグレースケールで読み込み，部品領域を物体(白: 255)、それ以外を背景(黒: 0)として部品領域と背景を分離（２値化）せよ．【ヒント】  ヒストグラムを作成して、目視で閾値を定めて、その値で二値化する提出ファイルプログラム ヒストグラム作成：  04_01_hist_学籍番号.cpp\
画像2値化：  04_01_bin_学籍番号.cpp\
画像  2値化画像：  04_01_学籍番号.jpg(tiffでもよい)\
Image1.jpgbin.jpg

## 課題 2

課題２ ヒストグラムを用いた対象物体の面積計測
image2.jpgを閾値121で切り出した部品領域の面積（画素数）をヒストグラムを用いて求めよ。提出ファイルプログラム image2 面積計測： 04_02_学籍番号.cpp
面積値： 04_023_学籍番号.txt
（image2= ） の形式で
Image2.jpg121

# 第 5 回

## 課題 1

課題1
•キーボードで変数nを入力して、n回(3x3)平均化フィル
タを施すプログラムを書け。平均化フィルタの結果に対
して平均化フィルタをかけていく処理とする。

- OpenCVに平均化する関数があるので、利用してもいいです。
•入力画像: apple_grayscale.jpg
•提出ファイル
- 05_01_filter_学籍番号.cpp
- 05_01_filter_学籍番号_n.jpg (nは回数。複数結果の提出)
➡n回というのを説明する画像キャプチャは難しいので、Xcodeで入
力して、画像表示している画面でいいです。
kk

## 課題 2

チャレンジ課題 (提出自由)
•漢字「像」とドット模様があるグレースケール画
像が与えられる．画像を平滑化するなどして，
漢字画素の画素値を255、漢字以外の画素の値
を0とするプログラムを書け．

- 画像のエッジ(境界)がボケていても構わないとする
•入力画像: dot_gray_kanji.jpg
•提出ファイル
- 05_02_denoising_学籍番号.cpp
- 05_02_denoising_学籍番号.jpg

# 第 6 回

## 課題 1

課題1• カラー画像を入力し、その輝度値に平均化フィルタを施
して画像を出力し、さらにその画像にプリューウィト
フィルタ(縦)を施して得られるエッジ画像を出力せよ• 提出ファイル（画像のファイル形式は問わない）- 06_01_UP_学籍番号.cpp（ソースコード）- 06_01_UP_学籍番号.jpg（入力画像（任意）および2つの
出力画像を表示した画面キャプチャ）

平均化フィルタはfilter2Dを使う方法でも
OpenCV関数（要調査）を使う方法でもよい
• 入力したカラー画像から輝度値を求める必要がある
• 平均化フィルタのフィルタサイズは任意
• エッジ画像は表示向けの適切な値に変換して出力する

## 課題 2

課題２（提出自由・加点対象）
• 入力画像に対して、ソーベルフィルタ（縦・横両方向）を用
いてエッジ強度（勾配の大きさ）を求め、画像として生成・
出力せよ
• 提出ファイル（画像のファイル形式は問わない）

- 06_02_gradient_学籍番号.cpp（ソースコード）
- 06_02_gradient_学籍番号.jpg  
（入力画像（AIT-logo2.jpgでない任意）および生成されたエッジ
強度画像を表示した画面キャプチャ）
入力画像例 AIT-logo2.jpg
output_sample
エッジ強度画像
課題2のヒント１
•エッジ強度（勾配の大きさ）はソーベルフィルタ
（横・縦）両方の出力を用いて画素ごとに算出する
•処理の流れの例
1.ソーベルフィルタ(横)による出力画像を求める（例：H_img）
2.ソーベルフィルタ(縦)による出力画像を求める（例：V_img）
3.画素ごとにエッジ強度を算出して格納（例：G_img）
✓座標位置(x,y)における1.の値をh、2.の値をvとすると、
エッジ強度は sqrt(h ＊ h ＋ v ＊ v) ※勾配に関する資料を参照
4.適切な画像表示になるように変換（G_img→出力画像）
✓最後に convertScaleAbs を用いる
課題2のヒント２
•結果を格納する画像（例：G_img）に注意
- 予めメモリ確保が必要（入力画像と同じ大きさ）
✓型はソーベルフィルタ出力と合わせる（CV_64FC1）
•ソーベルフィルタ出力にはconvertScaleAbsを施さない
- 表示用に値を変換してしまうため
✓最後のG_imgに対してconvertScaleAbsを施す
- 同様の理由でOpenCVの関数Sobelは使えない
•エッジ強度算出時に用いる変数の型にも注意
- 例：前ページの例の場合
✓double h, v; （変数はdoubleで宣言）
✓h = H_img.at<double>(y, x); （at関数でもdouble）
✓結果格納時のat関数も同様

# 第 7 回

## 課題 1

課題入力画像  処理画像処理画像は、入力画像に加工を加えた後にあるサイズのガウシアンフィルタを施してぼかした画像である。施された空間フィルタのサイズを推定して、加えられた加工部分を抽出せよ。

課題処理画像入力画像処理画像は、入力画像に加工を加えた後にあるサイズのガウシアンフィルタを施してぼかした画像である。施された空間フィルタのサイズを推定して、加えられた加工部分を抽出せよ。\
加\
工\
ぼ\
か\
し\
ガウシアン\
フィルタ\
何かを加えた

課題\

- 2枚の画像の違いを赤色の領域で示した結果画像を作成\
- 提出ファイル: 07_学籍番号.cpp  （ソースプログラム）\
07_学籍番号.jpg  (結果画像）\
- 注意事項: プログラムソースに処理の流れをコメント文で記\
載すること\
- プログラムは、入力画像に特定のサイズのガウシアンフィ\
ルタを施して差分画像を求めるもので良い。（ガウシアンフィルタサイズの入力を求めなくて良い）２枚の画像の相違部分抽出

課題のヒント・入力画像にガウシアンフィルタサイズを３から９まで\
変更して施す。この4枚の画像と処理画像の差分画像を\
作成する。作成された差分画像からサイズを推定して、\
その差分画像を加工部分画像とする。これが答えではない

# 第 8 回

## 課題 1

課題1
•入力画像に対してpタイル法による
二値化の処理を施せ
•前提: 文字がp=10%の割合で構成
•cv::threshold関数の利用
•for文を使用すること
•提出ファイル

- 08_01_ptile_学籍番号.cpp
- 08_01_output_学籍番号.jpg
- 08_01_info_学籍番号.txt
➡閾値が書かれていること
入力画像
出力画像
課題1の進め方
•ヒストグラムの生成 (配列)
•全体面積のp%から，該当の面積の取得
- 該当の面積 = 全体の面積 x p
•ヒストグラム用の配列を使用して，
度数0(背景)から走査して，
該当の面積に到達する度数(閾値)を求める
•二値化
課題1のヒント
•ヒストグラムのループから度数の和の求め方
- sum += hist[i]; //度数の和
•度数(閾値)を記載した
テキストの提出を忘れない

## 課題 2

課題2 (チャレンジ課題，提出自由)
•赤矩形と緑矩形を分離した二値画像を表示するプロ
グラムを書け．(多少の精度の厳密性は問わない)
•画像: red_green_rectangle.jpg
•提出ファイル

- プログラムソース:  
08_02_bin_学籍番号.cpp
- 出力画像 (キャプチャ可):
08_02_output_学籍番号.jpg
(jpgでなくてもよい)
- アルゴリズム説明ファイル: 08_02_method_学籍番号.txt
課題2の出力例
課題2の説明
•今回の課題はいくつか方法があります。手法
のアルゴリズム (手順) を説明用ファイル
(08_02_method.txt) に記載して、対応する
箇所をプログラムにコメント文で記載してく
ださい。
•手法の例
- 色値のヒストグラムを作って，色値の指定を確認
後，範囲指定により二値化

# 第 9 回

## 課題 1

• 演習で用いた入力画像sample.jpgに対して、
星の輪郭だけを白線で描画する
プログラムを作成し、結果画像を出力せよ

- 手動で輪郭を定める方法はNG
• 提出ファイル（画像のファイル形式は問わない）
- 09_01_star_学籍番号.cpp（ソースコード）
- 09_01_star_学籍番号.jpg（入力・出力画像を表示した画
面キャプチャ）
KK
課題１の出力画像例
output_sample
描画された
白線
KK
課題1のヒント
• まず輪郭を求める
• 星の形状は円形度が最も小さい（※この方法は一例）
- 面積・周囲長から、各輪郭の円形度を算出する
- 円周率πは 定数 M_PI で用いることができる
• 最も円形度が小さい輪郭の番号を取得する
- 各輪郭の円形度がこれまでの最小値かどうか判定する
• その輪郭番号を用いて輪郭を描画する
- 出力画像には予め入力画像をコピーし、輪郭を上書きする
- 手動でこの輪郭番号を指定する方法はNG
KK

## 課題 2

課題２（提出自由・加点対象）
• 課題１と同じ入力画像sample.jpgに対して、
領域特徴量を用いて指定された図形領域（次ページに掲載）を
マゼンタと白で塗り潰すプログラムを作成し、結果画像を出力せよ

- 但し、90度回転したsample_rotate.jpgを入力画像としても、
同じプログラムで同じ領域が塗りつぶされること
（画像に応じてプログラムやその中のパラメータを変えない）
• 提出ファイル（画像のファイル形式は問わない）
- 09_02_rectangle_学籍番号.cpp（ソースコード）
- 09_02_rectangle-1_学籍番号.jpg（sample.jpgに対する結果のキャプ
チャ画像）
- 09_02_rectangle-2_学籍番号.jpg（sample_rotate.jpgに対する結果の
キャプチャ画像）
※(R,G,B)=(255,0,255)でマゼンタ
課題２の指定領域と出力画像例
output_sample
sample.jpg 出力画像例
指定領域
sample_rotate.jpg
sample_rotate.jpgでも
同じプログラムで
同じ領域が塗りつぶされる
output_sample
課題2のヒント
•課題１と同じように輪郭追跡から領域特徴量を求める
•塗り潰しはdrawContoursで線幅を-1（負の値）にする
•指定領域だけを描画するための領域特徴量と条件を，
試行錯誤して決める
- 例
✓円形度と面積を用いる
✓外接長方形の幅・高さを用いると良い
✓複数の条件分岐で判定する（どれか一つだけだと難しい）
✓円形度は長方形だけを選別するためには当てにならない
（円の除去には使えるが楕円は残ることが多い）
✓塗り潰しの順番も重要

# 第 10 回

## 課題 1

課題1• 与えられた４つの対象のうち円でない対象に異なる色
を付与せよ
• 提出ファイル: 10_学籍番号.cpp（ソースプログラム）
10_学籍番号.jpg(結果画像）
1
手順（一例）円除去（円形度） 領域統合（膨張収縮）マスク画像ラベリング１
2
ラベル確認 色塗り

## 課題 2

チャレンジ課題（提出自由加点対象）
• 卵の白斑点を抽出し、大きさが50画素以上の白斑点
の個数を求めよ。
• カラー画像⇒グレイ画像⇒２値化(th=200)で白斑
点抽出⇒ラベリング⇒計数
• 場所による大きさの補正は不要・提出 10_学籍番号egg.cpp（ソースプログラム）
10_学籍番号egg.jpg(白斑点抽出画像）
10_学籍番号egg.txt（50画素以上の個数）

# 第 11 回

## 課題 1

課題１
• 対象画像の手領域のみを抽出し，他を黒色で塗りつぶし
た画像を出力せよ

- 入力画像： handinwhite.jpg （TeamsでDL）
- 判定には必ず色相（H）の値を使用すること
• 提出ファイル（画像の形式は問わない）
- 11_01_handinwhite_学籍番号.cpp（ソースコード）
- 11_01_handinwhite_学籍番号.jpg（入力・出力画像を表示
した画面キャプチャ）
入力画像（handinwhite.jpg）
出力画像例
KK
課題１のヒントその１
•演習２と演習４をうまく組み合わせよう
- 画像入力→HSV変換→領域抽出（判定）
→HSV逆変換→出力 の流れ
•手の領域をどのように抽出するか
- H（色相）がある範囲内にあると考える（いわゆる
肌色）
➡H > H_MIN && H < H_MAX
➡色相（H）は環になっているため，大きな値を取る場合
もある
この辺
この辺も
KK
課題１のヒントその２
•Hの値だけでは手領域のみの抽出ができない
➡ 他の色情報も活用する
➡ その条件をANDで用いる
•しきい値は試行錯誤

## 課題 2

課題２（提出自由・加点対象）
入力画像（fruit_image.jpg）
出力画像例
難！
これくらいの精度でOK
課題２のヒント：処理例•H/S/Vの値を全て活用して判定
•判定された画素を白画素として二値画像を作成
•二値画像から輪郭追跡を用いて領域を求める
•面積が最大である領域を選出する
•入力画像（のコピー）の上記領域部分のHの値を赤リンゴ用に変更
する
彩度（S） 明度（V）

# 第 12 回

## 課題 1

課題1• 与えられた画像からテンプレートを利用して各要素を検出せよ．
• 検出はテンプレートと同じ色値で矩形で描画
• 提出ファイル: 12_01_学籍番号.cpp（ソースプログラム）
12_01_学籍番号.jpg(結果画像）入力画像 テンプレート
テンプレート

## 課題 2

課題2• 入力画像とテンプレート（赤：画）をグレイ画像で読み
込み、テンプレートマッチングを行い、求められた類似
度マップをグレイ画像で表示せよ．
• cv::TM_SQDIFF_NORMED を用い、結果画像は0-255に正規
化して表示せよ
• 提出ファイル: 12_02_学籍番号.cpp（ソースプログラム）
12_02_学籍番号.jpg(結果画像）入力画像 テンプレート
入力画像テンプレート結果（一部）
